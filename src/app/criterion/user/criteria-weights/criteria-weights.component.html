<div>
  <div class="row">
    <div class="col-md-8">
      <available-details [problem]="problem"/>
    </div>
    <div class="col-md-4 sidebar text-light">
      <h1>
        Określenie wag kryteriów
      </h1>
      <details open>
        <summary><b>Pokaż/Ukryj opis etapu</b></summary>
        <p>
          Pierwszym etapem analizy problemu jest ustalenie ważności poszczególnych kryteriów decyzyjnych.
          Pozwala nam to określić, jak bardzo od danego kryterium będzie zależała końcowa ocena każdego z końcowych
          rozwiązań problemu.
          Na poniższej liście znajdują się kryteria, w oparciu o które będą analizowane wszystkie przewidziane w
          niniejszym problemie warianty decyzyjne.
        </p>
      </details>
      <div *ngFor="let criterion of criteria">
        <div class="inner-group text-dark">
          <h5>{{ criterion.name }}</h5>
          <ng-container
            [ngTemplateOutlet]="getScaleType() === 0 ? slider : radio"
            [ngTemplateOutletContext]="{criterion:criterion}"
          ></ng-container>
        </div>
      </div>
      <div class="btn-right btn-margin">
        <button type="button" class="btn btn-primary" (click)="$event.preventDefault(); saveCriteriaWeights()">Zapisz
          wagi kryteriów
        </button>
      </div>
    </div>
  </div>
</div>

<ng-template #slider let-criterion='criterion'>
  <div class="txt-center">
    <input id="{{criterion.id}}" type="range" class="form-range" min="1" max="100" step="1" value="50"
           oninput="this.nextElementSibling.value = this.value">
    <output>50</output>
  </div>
</ng-template>

<ng-template #radio let-criterion='criterion'>
  <div class="form-check">
    <input class="form-check-input" type="radio" name="flexRadio-{{criterion.id}}" id="{{criterion.id}}1" value="100">
    <label class="form-check-label" for="{{criterion.id}}1">
      Zdecydowanie ważne
    </label>
  </div>
  <div class="form-check">
    <input class="form-check-input" type="radio" name="flexRadio-{{criterion.id}}" id="{{criterion.id}}2" value="83">
    <label class="form-check-label" for="{{criterion.id}}2">
      Ważne
    </label>
  </div>
  <div class="form-check">
    <input class="form-check-input" type="radio" name="flexRadio-{{criterion.id}}" id="{{criterion.id}}3" value="67">
    <label class="form-check-label" for="{{criterion.id}}3">
      Raczej ważne
    </label>
  </div>
  <div class="form-check">
    <input class="form-check-input" type="radio" name="flexRadio-{{criterion.id}}" id="{{criterion.id}}4" value="50"
           checked>
    <label class="form-check-label" for="{{criterion.id}}4">
      Ani ważne, ani nieważne
    </label>
  </div>
  <div class="form-check">
    <input class="form-check-input" type="radio" name="flexRadio-{{criterion.id}}" id="{{criterion.id}}5" value="33">
    <label class="form-check-label" for="{{criterion.id}}5">
      Raczej nieważne
    </label>
  </div>
  <div class="form-check">
    <input class="form-check-input" type="radio" name="flexRadio-{{criterion.id}}" id="{{criterion.id}}6" value="17">
    <label class="form-check-label" for="{{criterion.id}}6">
      Nieważne
    </label>
  </div>
  <div class="form-check">
    <input class="form-check-input" type="radio" name="flexRadio-{{criterion.id}}" id="{{criterion.id}}7" value="1">
    <label class="form-check-label" for="{{criterion.id}}7">
      Zdecydowanie nieważne
    </label>
  </div>
</ng-template>
